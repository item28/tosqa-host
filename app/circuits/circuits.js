(function() {
  var circuitsCtrl, ng;

  ng = angular.module('myApp');

  ng.config(function($stateProvider, navbarProvider) {
    $stateProvider.state('circuits', {
      url: '/circuits',
      templateUrl: '/circuits/circuits.html',
      controller: circuitsCtrl
    });
    return navbarProvider.add('/circuits', 'Circuits', 30);
  });

  circuitsCtrl = function($scope, jeebus) {
    var setup;
    $scope.circuitId = 'def';
    $scope.myData = {
      gadgets: [
        {
          id: 'g1',
          x: 750,
          y: 30,
          title: 'Gadget One',
          type: 'Printer'
        }, {
          id: 'g2',
          x: 750,
          y: 150,
          title: 'Gadget Two',
          type: 'Pipe'
        }
      ],
      types: {
        Timer: {
          pins: [
            {
              name: 'In',
              type: 'i'
            }, {
              name: 'Out',
              type: 'o'
            }
          ]
        },
        Printer: {
          pins: [
            {
              name: 'In',
              type: 'i'
            }
          ]
        }
      }
    };
    setup = function() {
      return jeebus.attach('circuit').on('sync', function() {
        return $scope.circuits = this.rows;
      });
    };
    if ($scope.serverStatus === 'connected') {
      setup();
    }
    return $scope.$on('ws-open', setup);
  };

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiY2lyY3VpdHMuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUEsTUFBQSxnQkFBQTs7QUFBQSxFQUFBLEVBQUEsR0FBSyxPQUFPLENBQUMsTUFBUixDQUFlLE9BQWYsQ0FBTCxDQUFBOztBQUFBLEVBRUEsRUFBRSxDQUFDLE1BQUgsQ0FBVSxTQUFDLGNBQUQsRUFBaUIsY0FBakIsR0FBQTtBQUNSLElBQUEsY0FBYyxDQUFDLEtBQWYsQ0FBcUIsVUFBckIsRUFDRTtBQUFBLE1BQUEsR0FBQSxFQUFLLFdBQUw7QUFBQSxNQUNBLFdBQUEsRUFBYSx5QkFEYjtBQUFBLE1BRUEsVUFBQSxFQUFZLFlBRlo7S0FERixDQUFBLENBQUE7V0FJQSxjQUFjLENBQUMsR0FBZixDQUFtQixXQUFuQixFQUFnQyxVQUFoQyxFQUE0QyxFQUE1QyxFQUxRO0VBQUEsQ0FBVixDQUZBLENBQUE7O0FBQUEsRUFTQSxZQUFBLEdBQWUsU0FBQyxNQUFELEVBQVMsTUFBVCxHQUFBO0FBQ2IsUUFBQSxLQUFBO0FBQUEsSUFBQSxNQUFNLENBQUMsU0FBUCxHQUFtQixLQUFuQixDQUFBO0FBQUEsSUFDQSxNQUFNLENBQUMsTUFBUCxHQUNFO0FBQUEsTUFBQSxPQUFBLEVBQVM7UUFDUDtBQUFBLFVBQUUsRUFBQSxFQUFHLElBQUw7QUFBQSxVQUFXLENBQUEsRUFBRSxHQUFiO0FBQUEsVUFBa0IsQ0FBQSxFQUFFLEVBQXBCO0FBQUEsVUFBd0IsS0FBQSxFQUFNLFlBQTlCO0FBQUEsVUFBNEMsSUFBQSxFQUFLLFNBQWpEO1NBRE8sRUFFUDtBQUFBLFVBQUUsRUFBQSxFQUFHLElBQUw7QUFBQSxVQUFXLENBQUEsRUFBRSxHQUFiO0FBQUEsVUFBa0IsQ0FBQSxFQUFFLEdBQXBCO0FBQUEsVUFBeUIsS0FBQSxFQUFNLFlBQS9CO0FBQUEsVUFBNkMsSUFBQSxFQUFLLE1BQWxEO1NBRk87T0FBVDtBQUFBLE1BSUEsS0FBQSxFQUNFO0FBQUEsUUFBQSxLQUFBLEVBQ0U7QUFBQSxVQUFBLElBQUEsRUFBTTtZQUNKO0FBQUEsY0FBRSxJQUFBLEVBQUssSUFBUDtBQUFBLGNBQWEsSUFBQSxFQUFLLEdBQWxCO2FBREksRUFFSjtBQUFBLGNBQUUsSUFBQSxFQUFLLEtBQVA7QUFBQSxjQUFjLElBQUEsRUFBSyxHQUFuQjthQUZJO1dBQU47U0FERjtBQUFBLFFBS0EsT0FBQSxFQUNFO0FBQUEsVUFBQSxJQUFBLEVBQU07WUFDSjtBQUFBLGNBQUUsSUFBQSxFQUFLLElBQVA7QUFBQSxjQUFhLElBQUEsRUFBSyxHQUFsQjthQURJO1dBQU47U0FORjtPQUxGO0tBRkYsQ0FBQTtBQUFBLElBaUJBLEtBQUEsR0FBUSxTQUFBLEdBQUE7YUFDTixNQUFNLENBQUMsTUFBUCxDQUFjLFNBQWQsQ0FDRSxDQUFDLEVBREgsQ0FDTSxNQUROLEVBQ2MsU0FBQSxHQUFBO2VBQ1YsTUFBTSxDQUFDLFFBQVAsR0FBa0IsSUFBQyxDQUFBLEtBRFQ7TUFBQSxDQURkLEVBRE07SUFBQSxDQWpCUixDQUFBO0FBc0JBLElBQUEsSUFBWSxNQUFNLENBQUMsWUFBUCxLQUF1QixXQUFuQztBQUFBLE1BQUEsS0FBQSxDQUFBLENBQUEsQ0FBQTtLQXRCQTtXQXVCQSxNQUFNLENBQUMsR0FBUCxDQUFXLFNBQVgsRUFBc0IsS0FBdEIsRUF4QmE7RUFBQSxDQVRmLENBQUE7QUFBQSIsInNvdXJjZXNDb250ZW50IjpbIm5nID0gYW5ndWxhci5tb2R1bGUgJ215QXBwJ1xuXG5uZy5jb25maWcgKCRzdGF0ZVByb3ZpZGVyLCBuYXZiYXJQcm92aWRlcikgLT5cbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUgJ2NpcmN1aXRzJyxcbiAgICB1cmw6ICcvY2lyY3VpdHMnXG4gICAgdGVtcGxhdGVVcmw6ICcvY2lyY3VpdHMvY2lyY3VpdHMuaHRtbCdcbiAgICBjb250cm9sbGVyOiBjaXJjdWl0c0N0cmxcbiAgbmF2YmFyUHJvdmlkZXIuYWRkICcvY2lyY3VpdHMnLCAnQ2lyY3VpdHMnLCAzMFxuXG5jaXJjdWl0c0N0cmwgPSAoJHNjb3BlLCBqZWVidXMpIC0+XG4gICRzY29wZS5jaXJjdWl0SWQgPSAnZGVmJ1xuICAkc2NvcGUubXlEYXRhID1cbiAgICBnYWRnZXRzOiBbXG4gICAgICB7IGlkOidnMScsIHg6NzUwLCB5OjMwLCB0aXRsZTonR2FkZ2V0IE9uZScsIHR5cGU6J1ByaW50ZXInIH1cbiAgICAgIHsgaWQ6J2cyJywgeDo3NTAsIHk6MTUwLCB0aXRsZTonR2FkZ2V0IFR3bycsIHR5cGU6J1BpcGUnIH1cbiAgICBdXG4gICAgdHlwZXM6XG4gICAgICBUaW1lcjpcbiAgICAgICAgcGluczogW1xuICAgICAgICAgIHsgbmFtZTonSW4nLCB0eXBlOidpJyB9XG4gICAgICAgICAgeyBuYW1lOidPdXQnLCB0eXBlOidvJyB9XG4gICAgICAgIF1cbiAgICAgIFByaW50ZXI6XG4gICAgICAgIHBpbnM6IFtcbiAgICAgICAgICB7IG5hbWU6J0luJywgdHlwZTonaScgfVxuICAgICAgICBdXG4gIFxuICBzZXR1cCA9IC0+XG4gICAgamVlYnVzLmF0dGFjaCAnY2lyY3VpdCdcbiAgICAgIC5vbiAnc3luYycsIC0+XG4gICAgICAgICRzY29wZS5jaXJjdWl0cyA9IEByb3dzXG4gICAgICBcbiAgc2V0dXAoKSAgaWYgJHNjb3BlLnNlcnZlclN0YXR1cyBpcyAnY29ubmVjdGVkJ1xuICAkc2NvcGUuJG9uICd3cy1vcGVuJywgc2V0dXBcbiJdfQ==
