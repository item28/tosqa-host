(function() {
  var circuitsCtrl, ng,
    __slice = [].slice;

  ng = angular.module('myApp');

  ng.config(function($stateProvider, navbarProvider) {
    $stateProvider.state('circuits', {
      url: '/circuits',
      templateUrl: '/circuits/circuits.html',
      controller: circuitsCtrl
    });
    return navbarProvider.add('/circuits', 'Circuits', 30);
  });

  circuitsCtrl = function($scope, jeebus) {
    var handlers, setup, updatePinList;
    $scope.circuits = {};
    $scope.gadgets = {
      Pipe: {
        name: 'Pipeline',
        shade: '#d8d8d8',
        icon: '\uf061',
        inputs: 'In',
        outputs: 'Out'
      },
      Printer: {
        shade: '#dacfc0',
        icon: '\uf02f',
        inputs: 'In In2'
      },
      clock: {
        shade: '#dacfc0',
        icon: '\uf017',
        inputs: 'Rate',
        outputs: 'Pulse'
      },
      tosqa_logo: {
        shade: '#fbea5b',
        icon: 'TQ',
        inputs: 'Rate',
        outputs: 'X Y'
      },
      StepGen: {
        shade: '#d2e38f',
        icon: '\uf013',
        inputs: 'Params',
        outputs: 'Out'
      },
      SSB: {
        shade: '#fbea5b',
        icon: '\uf0b2',
        inputs: 'Cmds'
      }
    };
    $scope.circuit = {
      gadgets: {
        g1: {
          x: 120,
          y: 220,
          title: 'Gadget One',
          type: 'Pipe'
        },
        g2: {
          x: 300,
          y: 250,
          title: 'Gadget Two',
          type: 'Printer'
        },
        g3: {
          x: 320,
          y: 60,
          title: 'StepGen-X',
          type: 'StepGen'
        },
        g4: {
          x: 540,
          y: 70,
          title: 'SSB-X',
          type: 'SSB'
        },
        g5: {
          x: 340,
          y: 140,
          title: 'StepGen-Y',
          type: 'StepGen'
        },
        g6: {
          x: 520,
          y: 150,
          title: 'SSB-Y',
          type: 'SSB'
        }
      },
      wires: {
        'g1.Out/g2.In': 0,
        'g3.Out/g4.Cmds': 0,
        'g5.Out/g6.Cmds': 0
      },
      feeds: {
        'g2.In': [
          'some data', {
            Tag: 'blah',
            Msg: 'tagged data'
          }
        ],
        'g3.Params': [1000, 500],
        'g5.Params': [500, 1000]
      },
      labels: {
        In: 'g2.In'
      }
    };
    $scope.circuit = {
      gadgets: {},
      wires: {},
      feeds: {}
    };
    updatePinList = function() {
      var g, gid, ins, p, _i, _len, _ref, _ref1;
      $scope.inputPins = [];
      _ref = $scope.circuit.gadgets;
      for (gid in _ref) {
        g = _ref[gid];
        if (ins = $scope.gadgets[g.type].inputs) {
          _ref1 = ins.split(' ');
          for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
            p = _ref1[_i];
            $scope.inputPins.push("" + gid + "." + p);
          }
        }
      }
      return $scope.inputPins.sort();
    };
    $scope.redraw = function() {
      console.log('redraw');
      $scope.circuit = {
        gadgets: {},
        wires: {},
        feeds: {}
      };
      return jeebus.attach('circuit/demo1').on('data', function() {
        var args, obj, temp, _i, _j, _len, _len1, _results;
        args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
        temp = this.rows;
        for (_i = 0, _len = temp.length; _i < _len; _i++) {
          obj = temp[_i];
          $scope.circuit.gadgets[obj.id] = obj;
        }
        _results = [];
        for (_j = 0, _len1 = temp.length; _j < _len1; _j++) {
          obj = temp[_j];
          angular.forEach(obj.feed, function(v, k) {
            return $scope.circuit.feeds["" + obj.id + "." + k] = v;
          });
          _results.push(angular.forEach(obj.wire, function(v, k) {
            var to;
            to = (v.split("."))[0];
            if ($scope.circuit.gadgets[to] != null) {
              return $scope.circuit.wires["" + obj.id + "." + k + "/" + v] = 0;
            }
          }));
        }
        return _results;
      });
    };
    $scope.$watch('addPin', function(pin) {
      var _base;
      if (pin) {
        if ((_base = $scope.circuit.feeds)[pin] == null) {
          _base[pin] = [];
        }
        console.log('addFeed', pin, $scope.circuit.feeds[pin].length);
        $scope.circuit.feeds[pin].push('');
        return $scope.addPin = null;
      }
    });
    $scope.delFeed = function(pin, index) {
      var items;
      items = $scope.circuit.feeds[pin];
      console.log('delFeed', pin, index, items[index]);
      items.splice(index, 1);
      if (items.length === 0) {
        return delete $scope.circuit.feeds[pin];
      }
    };
    $scope.$watch('currSel.id', function(x) {
      console.log('fix id', x);
      return updatePinList();
    });
    $scope.$watch('currSel.title', function(x) {
      var id, obj;
      if ($scope.currSel != null) {
        id = $scope.currSel.id;
        obj = $scope.circuit.gadgets[id];
        obj.title = x;
        jeebus.put("/circuit/demo1/" + id, obj);
        return console.log('fix title', x);
      }
    });
    handlers = {
      addGadget: function(x, y) {
        var id, obj, type;
        if ($scope.newtype != null) {
          id = "g" + String(Date.now() % 1234567);
          type = $scope.newtype;
          obj = {
            title: "" + type,
            type: $scope.newtype,
            x: x,
            y: y
          };
          jeebus.put("/circuit/demo1/" + id, obj);
          return $scope.redraw();
        }
      },
      delGadget: function(id) {
        jeebus.put("/circuit/demo1/" + id);
        return $scope.redraw();
      },
      addWire: function(from, to) {
        var id, obj, output;
        id = (from.split('.'))[0];
        output = (from.split('.'))[1];
        obj = $scope.circuit.gadgets[id];
        obj.wire = obj.wire || {};
        obj.wire[output] = to;
        jeebus.put("/circuit/demo1/" + id, obj);
        return $scope.redraw();
      },
      delWire: function(from, to) {
        var id, obj;
        id = (from.split('.'))[0];
        obj = $scope.circuit.gadgets[id];
        obj.wire = null;
        jeebus.put("/circuit/demo1/" + id, obj);
        return $scope.redraw();
      },
      selectGadget: function(id) {
        $scope.currSel = {};
        $scope.currSel.id = id;
        $scope.currSel.title = $scope.circuit.gadgets[id].title;
        return $scope.currSel.type = $scope.circuit.gadgets[id].type;
      },
      moveGadget: function(id, x, y) {
        var obj;
        obj = $scope.circuit.gadgets[id];
        obj.x = x;
        obj.y = y;
        jeebus.put("/circuit/demo1/" + id, obj);
        return $scope.redraw();
      }
    };
    $scope.$on('circuit', function() {
      var args, event, type;
      event = arguments[0], type = arguments[1], args = 3 <= arguments.length ? __slice.call(arguments, 2) : [];
      console.log.apply(console, ['C:', type].concat(__slice.call(args)));
      return handlers[type].apply(handlers, args);
    });
    setup = function() {
      jeebus.attach('circuit/demo1').on('sync', function() {
        var args, obj, temp, _i, _len;
        args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
        temp = this.rows;
        for (_i = 0, _len = temp.length; _i < _len; _i++) {
          obj = temp[_i];
          $scope.circuits[obj.id] = obj;
        }
        return console.log("init circuits");
      });
      return $scope.redraw();
    };
    if ($scope.serverStatus === 'connected') {
      setup();
    }
    return $scope.$on('ws-open', setup);
  };

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiY2lyY3VpdHMuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUEsTUFBQSxnQkFBQTtJQUFBLGtCQUFBOztBQUFBLEVBQUEsRUFBQSxHQUFLLE9BQU8sQ0FBQyxNQUFSLENBQWUsT0FBZixDQUFMLENBQUE7O0FBQUEsRUFFQSxFQUFFLENBQUMsTUFBSCxDQUFVLFNBQUMsY0FBRCxFQUFpQixjQUFqQixHQUFBO0FBQ1IsSUFBQSxjQUFjLENBQUMsS0FBZixDQUFxQixVQUFyQixFQUNFO0FBQUEsTUFBQSxHQUFBLEVBQUssV0FBTDtBQUFBLE1BQ0EsV0FBQSxFQUFhLHlCQURiO0FBQUEsTUFFQSxVQUFBLEVBQVksWUFGWjtLQURGLENBQUEsQ0FBQTtXQUlBLGNBQWMsQ0FBQyxHQUFmLENBQW1CLFdBQW5CLEVBQWdDLFVBQWhDLEVBQTRDLEVBQTVDLEVBTFE7RUFBQSxDQUFWLENBRkEsQ0FBQTs7QUFBQSxFQVNBLFlBQUEsR0FBZSxTQUFDLE1BQUQsRUFBUyxNQUFULEdBQUE7QUFFYixRQUFBLDhCQUFBO0FBQUEsSUFBQSxNQUFNLENBQUMsUUFBUCxHQUFpQixFQUFqQixDQUFBO0FBQUEsSUFTQSxNQUFNLENBQUMsT0FBUCxHQUNFO0FBQUEsTUFBQSxJQUFBLEVBQ0U7QUFBQSxRQUFBLElBQUEsRUFBTSxVQUFOO0FBQUEsUUFDQSxLQUFBLEVBQU8sU0FEUDtBQUFBLFFBRUEsSUFBQSxFQUFNLFFBRk47QUFBQSxRQUdBLE1BQUEsRUFBUSxJQUhSO0FBQUEsUUFJQSxPQUFBLEVBQVMsS0FKVDtPQURGO0FBQUEsTUFNQSxPQUFBLEVBQ0U7QUFBQSxRQUFBLEtBQUEsRUFBTyxTQUFQO0FBQUEsUUFDQSxJQUFBLEVBQU0sUUFETjtBQUFBLFFBRUEsTUFBQSxFQUFRLFFBRlI7T0FQRjtBQUFBLE1BVUEsS0FBQSxFQUNFO0FBQUEsUUFBQSxLQUFBLEVBQU8sU0FBUDtBQUFBLFFBQ0EsSUFBQSxFQUFN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TUFBTSxDQUFDLFFBQVMsQ0FBQSxHQUFHLENBQUMsRUFBSixDQUFoQixHQUEwQixHQUExQixDQURGO0FBQUEsU0FEQTtlQUdBLE9BQU8sQ0FBQyxHQUFSLENBQVksZUFBWixFQUpTO01BQUEsQ0FEYixDQUFBLENBQUE7YUFRQyxNQUFNLENBQUMsTUFBUCxDQUFBLEVBVEs7SUFBQSxDQXhLUixDQUFBO0FBNExBLElBQUEsSUFBWSxNQUFNLENBQUMsWUFBUCxLQUF1QixXQUFuQztBQUFBLE1BQUEsS0FBQSxDQUFBLENBQUEsQ0FBQTtLQTVMQTtXQTZMQSxNQUFNLENBQUMsR0FBUCxDQUFXLFNBQVgsRUFBc0IsS0FBdEIsRUEvTGE7RUFBQSxDQVRmLENBQUE7QUFBQSIsInNvdXJjZXNDb250ZW50IjpbIm5nID0gYW5ndWxhci5tb2R1bGUgJ215QXBwJ1xuXG5uZy5jb25maWcgKCRzdGF0ZVByb3ZpZGVyLCBuYXZiYXJQcm92aWRlcikgLT5cbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUgJ2NpcmN1aXRzJyxcbiAgICB1cmw6ICcvY2lyY3VpdHMnXG4gICAgdGVtcGxhdGVVcmw6ICcvY2lyY3VpdHMvY2lyY3VpdHMuaHRtbCdcbiAgICBjb250cm9sbGVyOiBjaXJjdWl0c0N0cmxcbiAgbmF2YmFyUHJvdmlkZXIuYWRkICcvY2lyY3VpdHMnLCAnQ2lyY3VpdHMnLCAzMFxuXG5jaXJjdWl0c0N0cmwgPSAoJHNjb3BlLCBqZWVidXMpIC0+XG4gIFxuICAkc2NvcGUuY2lyY3VpdHMgPXt9XG4gIFxuICAjICcjZmJlYTViJ1xuICAjICNkYWNmYzBcbiAgIyAjZDhkOGQ4XG4gICMgI2QyZTM4ZlxuICAjICM3NTc3NzlcbiAgXG4gIFxuICAkc2NvcGUuZ2FkZ2V0cyA9XG4gICAgUGlwZTpcbiAgICAgIG5hbWU6ICdQaXBlbGluZSdcbiAgICAgIHNoYWRlOiAnI2Q4ZDhkOCdcbiAgICAgIGljb246ICdcXHVmMDYxJyAjIGZhLWFycm93LXJpZ2h0XG4gICAgICBpbnB1dHM6ICdJbidcbiAgICAgIG91dHB1dHM6ICdPdXQnXG4gICAgUHJpbnRlcjpcbiAgICAgIHNoYWRlOiAnI2RhY2ZjMCdcbiAgICAgIGljb246ICdcXHVmMDJmJyAjIGZhLXByaW50XG4gICAgICBpbnB1dHM6ICdJbiBJbjInXG4gICAgY2xvY2s6XG4gICAgICBzaGFkZTogJyNkYWNmYzAnXG4gICAgICBpY29uOiAnXFx1ZjAxNycgIyBmYS1jbG9jay1vXG4gICAgICBpbnB1dHM6ICdSYXRlJ1xuICAgICAgb3V0cHV0czogJ1B1bHNlJ1xuICAgIHRvc3FhX2xvZ286XG4gICAgICBzaGFkZTogJyNmYmVhNWInXG4gICAgICBpY29uOiAnVFEnICMgZmEtY2xvY2stb1xuICAgICAgaW5wdXRzOiAnUmF0ZSdcbiAgICAgIG91dHB1dHM6ICdYIFknXG4gICAgU3RlcEdlbjpcbiAgICAgIHNoYWRlOiAnI2QyZTM4ZidcbiAgICAgIGljb246ICdcXHVmMDEzJyAjIGZhLWNvZ1xuICAgICAgaW5wdXRzOiAnUGFyYW1zJ1xuICAgICAgb3V0cHV0czogJ091dCdcbiAgICBTU0I6XG4gICAgICBzaGFkZTogJyNmYmVhNWInXG4gICAgICBpY29uOiAnXFx1ZjBiMicgIyBmYS1hcnJvd3MtYWx0XG4gICAgICBpbnB1dHM6ICdDbWRzJ1xuICAgICAgXG4gICRzY29wZS5jaXJjdWl0ID1cbiAgICBnYWRnZXRzOlxuICAgICAgZzE6IHsgeDogMTIwLCB5OiAyMjAsIHRpdGxlOiAnR2FkZ2V0IE9uZScsIHR5cGU6ICdQaXBlJywgICAgfVxuICAgICAgZzI6IHsgeDogMzAwLCB5OiAyNTAsIHRpdGxlOiAnR2FkZ2V0IFR3bycsIHR5cGU6ICdQcmludGVyJywgfVxuICAgICAgZzM6IHsgeDogMzIwLCB5OiAgNjAsIHRpdGxlOiAnU3RlcEdlbi1YJywgIHR5cGU6ICdTdGVwR2VuJywgfVxuICAgICAgZzQ6IHsgeDogNTQwLCB5OiAgNzAsIHRpdGxlOiAnU1NCLVgnLCAgICAgIHR5cGU6ICdTU0InLCAgICAgfVxuICAgICAgZzU6IHsgeDogMzQwLCB5OiAxNDAsIHRpdGxlOiAnU3RlcEdlbi1ZJywgIHR5cGU6ICdTdGVwR2VuJywgfVxuICAgICAgZzY6IHsgeDogNTIwLCB5OiAxNTAsIHRpdGxlOiAnU1NCLVknLCAgICAgIHR5cGU6ICdTU0InLCAgICAgfVxuICAgIHdpcmVzOlxuICAgICAgJ2cxLk91dC9nMi5Jbic6IDBcbiAgICAgICdnMy5PdXQvZzQuQ21kcyc6IDBcbiAgICAgICdnNS5PdXQvZzYuQ21kcyc6IDBcbiAgICBmZWVkczpcbiAgICAgICdnMi5Jbic6IFsgJ3NvbWUgZGF0YScsIHsgVGFnOiAnYmxhaCcsIE1zZzogJ3RhZ2dlZCBkYXRhJyB9IF1cbiAgICAgICdnMy5QYXJhbXMnOiBbIDEwMDAsIDUwMCBdXG4gICAgICAnZzUuUGFyYW1zJzogWyA1MDAsIDEwMDAgXVxuICAgIGxhYmVsczpcbiAgICAgIEluOiAnZzIuSW4nXG4gICAgICBcbiAgJHNjb3BlLmNpcmN1aXQgPVxuICAgIGdhZGdldHM6e31cbiAgICB3aXJlczp7fVxuICAgIGZlZWRzOnt9XG4gICAgICBcbiAgdXBkYXRlUGluTGlzdCA9ICgpIC0+XG4gICAgJHNjb3BlLmlucHV0UGlucyA9IFtdXG4gICAgZm9yIGdpZCwgZyBvZiAkc2NvcGUuY2lyY3VpdC5nYWRnZXRzXG4gICAgICBpZiBpbnMgPSAkc2NvcGUuZ2FkZ2V0c1tnLnR5cGVdLmlucHV0c1xuICAgICAgICBmb3IgcCBpbiBpbnMuc3BsaXQgJyAnXG4gICAgICAgICAgJHNjb3BlLmlucHV0UGlucy5wdXNoIFwiI3tnaWR9LiN7cH1cIlxuICAgICRzY29wZS5pbnB1dFBpbnMuc29ydCgpXG4gIFxuICAjZnVuY3Rpb24gdG8gcmVkcmF3IGVkaXRvclxuICAkc2NvcGUucmVkcmF3ID0oKSAtPlxuICAgIGNvbnNvbGUubG9nICdyZWRyYXcnXG4gICAgJHNjb3BlLmNpcmN1aXQgPVxuICAgICAgZ2FkZ2V0czp7fVxuICAgICAgd2lyZXM6e31cbiAgICAgIGZlZWRzOnt9XG4gICAgamVlYnVzLmF0dGFjaCAnY2lyY3VpdC9kZW1vMSdcbiAgICAgLm9uICdkYXRhJywgKGFyZ3MuLi4pIC0+XG4gICAgICAgIHRlbXAgPSBAcm93c1xuICAgICAgICBmb3Igb2JqIGluIHRlbXBcbiAgICAgICAgICAkc2NvcGUuY2lyY3VpdC5nYWRnZXRzW29iai5pZF0gPSBvYmpcbiAgICAgICAgZm9yIG9iaiBpbiB0ZW1wXG4gICAgICAgICAgYW5ndWxhci5mb3JFYWNoIG9iai5mZWVkLCAodixrKS0+IFxuICAgICAgICAgICAgJHNjb3BlLmNpcmN1aXQuZmVlZHNbXCIje29iai5pZH0uI3trfVwiXSA9IHZcbiAgICAgICAgICBhbmd1bGFyLmZvckVhY2ggb2JqLndpcmUsICh2LGspLT5cbiAgICAgICAgICAgIHRvID0gKHYuc3BsaXQgXCIuXCIpWzBdXG4gICAgICAgICAgICBpZiAkc2NvcGUuY2lyY3VpdC5nYWRnZXRzW3RvXT9cbiAgICAgICAgICAgICAgIyBUT0RPOnJlbW92ZSB3aXJlIGZyb20gZGJcbiAgICAgICAgICAgICAgJHNjb3BlLmNpcmN1aXQud2lyZXNbXCIje29iai5pZH0uI3trfS8je3Z9XCJdID0gMFxuXG4gICRzY29wZS4kd2F0Y2ggJ2FkZFBpbicsIChwaW4pIC0+XG4gICAgaWYgcGluXG4gICAgICAkc2NvcGUuY2lyY3VpdC5mZWVkc1twaW5dID89IFtdXG4gICAgICBjb25zb2xlLmxvZyAnYWRkRmVlZCcsIHBpbiwgJHNjb3BlLmNpcmN1aXQuZmVlZHNbcGluXS5sZW5ndGhcbiAgICAgICRzY29wZS5jaXJjdWl0LmZlZWRzW3Bpbl0ucHVzaCAnJ1xuICAgICAgJHNjb3BlLmFkZFBpbiA9IG51bGxcblxuICAkc2NvcGUuZGVsRmVlZCA9IChwaW4sIGluZGV4KSAtPlxuICAgIGl0ZW1zID0gJHNjb3BlLmNpcmN1aXQuZmVlZHNbcGluXVxuICAgIGNvbnNvbGUubG9nICdkZWxGZWVkJywgcGluLCBpbmRleCwgaXRlbXNbaW5kZXhdXG4gICAgaXRlbXMuc3BsaWNlIGluZGV4LCAxXG4gICAgZGVsZXRlICRzY29wZS5jaXJjdWl0LmZlZWRzW3Bpbl0gIGlmIGl0ZW1zLmxlbmd0aCBpcyAwXG4gIFxuICAkc2NvcGUuJHdhdGNoICdjdXJyU2VsLmlkJywgKHgpIC0+XG4gICAgY29uc29sZS5sb2cgJ2ZpeCBpZCcsIHhcbiAgICB1cGRhdGVQaW5MaXN0KCkgIyBmb3IgbmV3IGFuZCBkZWxldGVkIGdhZGdldHNcbiAgJHNjb3BlLiR3YXRjaCAnY3VyclNlbC50aXRsZScsICh4KSAtPlxuICAgIGlmICRzY29wZS5jdXJyU2VsP1xuICAgICAgaWQgPSAkc2NvcGUuY3VyclNlbC5pZFxuICAgICAgb2JqID0gJHNjb3BlLmNpcmN1aXQuZ2FkZ2V0c1tpZF1cbiAgICAgIG9iai50aXRsZSA9IHhcbiAgICAgIGplZWJ1cy5wdXQgXCIvY2lyY3VpdC9kZW1vMS8je2lkfVwiLCBvYmpcbiAgICAgIGNvbnNvbGUubG9nICdmaXggdGl0bGUnLCB4XG4gICAgICBcbiAgaGFuZGxlcnMgPVxuICAgIGFkZEdhZGdldDogKHgsIHkpIC0+ICAgICAgXG4gICAgICBpZiAkc2NvcGUubmV3dHlwZT8gXG4gICAgICAgICMgamVlYnVzLnNlbmQgeyBjbWQ6ICdjZWQtYWcnLCBvYmp9XG4gICAgICAgIGlkPSBcImdcIiArIFN0cmluZyBEYXRlLm5vdygpJTEyMzQ1NjdcbiAgICAgICAgdHlwZSA9ICRzY29wZS5uZXd0eXBlXG4gICAgICAgIG9iaiA9IHt0aXRsZTpcIiN7dHlwZX1cIiwgdHlwZTokc2NvcGUubmV3dHlwZSwgeDp4LCB5Onl9XG4gICAgICAgIGplZWJ1cy5wdXQgXCIvY2lyY3VpdC9kZW1vMS8je2lkfVwiLCBvYmpcbiAgICAgICAgJHNjb3BlLnJlZHJhdygpICAgICAgICAgIFxuICAgICAgICBcbiAgICBkZWxHYWRnZXQ6IChpZCkgLT5cbiAgICAgICMgamVlYnVzLnNlbmQgeyBjbWQ6ICdjZWQtZGcnLCBvYmosIGlkfSAgICAgIFxuICAgICAgamVlYnVzLnB1dCBcIi9jaXJjdWl0L2RlbW8xLyN7aWR9XCIgICMgcHV0IG5pbCB2YWx1ZSB0byBkZWxldGUgaWRcbiAgICAgICRzY29wZS5yZWRyYXcoKSAgICAgICAgICBcbiAgICAgIFxuICAgIGFkZFdpcmU6IChmcm9tLCB0bykgLT4gICBcbiAgICAgICNqZWVidXMuc2VuZCB7IGNtZDogJ2NlZC1hdycsIG9iaiwgZnJvbSwgdG8gfVxuICAgICAgaWQgPSAoZnJvbS5zcGxpdCAnLicpWzBdXG4gICAgICBvdXRwdXQgPSAoZnJvbS5zcGxpdCAnLicpWzFdXG4gICAgICBvYmogPSAkc2NvcGUuY2lyY3VpdC5nYWRnZXRzW2lkXVxuICAgICAgb2JqLndpcmUgPSBvYmoud2lyZSBvciB7fVxuICAgICAgb2JqLndpcmVbb3V0cHV0XSA9IHRvXG4gICAgICBqZWVidXMucHV0IFwiL2NpcmN1aXQvZGVtbzEvI3tpZH1cIiwgb2JqIFxuICAgICAgJHNjb3BlLnJlZHJhdygpXG4gICAgZGVsV2lyZTogKGZyb20sIHRvKSAtPiAgICAjamVlYnVzLnNlbmQgeyBjbWQ6ICdjZWQtZHcnLCBvYmosIGZyb20sIHRvIH1cbiAgICAgIGlkID0gKGZyb20uc3BsaXQgJy4nKVswXVxuICAgICAgb2JqID0gJHNjb3BlLmNpcmN1aXQuZ2FkZ2V0c1tpZF1cbiAgICAgIG9iai53aXJlID0gbnVsbFxuICAgICAgamVlYnVzLnB1dCBcIi9jaXJjdWl0L2RlbW8xLyN7aWR9XCIsIG9ialxuICAgICAgJHNjb3BlLnJlZHJhdygpXG4gICAgc2VsZWN0R2FkZ2V0OiAoaWQpIC0+ICAgICAjamVlYnVzLnNlbmQgeyBjbWQ6ICdjZWQtc2cnLCBvYmosIGlkICAgICAgIH1cbiAgICAgICRzY29wZS5jdXJyU2VsID17fVxuICAgICAgJHNjb3BlLmN1cnJTZWwuaWQgPSBpZFxuICAgICAgJHNjb3BlLmN1cnJTZWwudGl0bGUgPSAkc2NvcGUuY2lyY3VpdC5nYWRnZXRzW2lkXS50aXRsZVxuICAgICAgJHNjb3BlLmN1cnJTZWwudHlwZSA9ICRzY29wZS5jaXJjdWl0LmdhZGdldHNbaWRdLnR5cGVcbiAgICAgIFxuICAgIG1vdmVHYWRnZXQ6IChpZCwgeCwgeSkgLT4gI2plZWJ1cy5zZW5kIHsgY21kOiAnY2VkLW1nJywgb2JqLCBpZCwgeCwgeSB9XG4gICAgICBvYmogPSAkc2NvcGUuY2lyY3VpdC5nYWRnZXRzW2lkXVxuICAgICAgb2JqLnggPSB4XG4gICAgICBvYmoueSA9IHlcbiAgICAgIGplZWJ1cy5wdXQgXCIvY2lyY3VpdC9kZW1vMS8je2lkfVwiLCBvYmpcbiAgICAgICRzY29wZS5yZWRyYXcoKSAgICAgICAgICBcbiAgICAgIFxuXG5cbiAgJHNjb3BlLiRvbiAnY2lyY3VpdCcsIChldmVudCwgdHlwZSwgYXJncy4uLikgLT5cbiAgICBjb25zb2xlLmxvZyAnQzonLCB0eXBlLCBhcmdzLi4uXG4gICAgaGFuZGxlcnNbdHlwZV0gYXJncy4uLlxuICAgIFxuICBcbiAgICBcbiAgc2V0dXAgPSAtPlxuICAgIGplZWJ1cy5hdHRhY2ggJ2NpcmN1aXQvZGVtbzEnXG4gICAgIC5vbiAnc3luYycsIChhcmdzLi4uKSAtPlxuICAgICAgICB0ZW1wID0gQHJvd3NcbiAgICAgICAgZm9yIG9iaiBpbiB0ZW1wXG4gICAgICAgICAgJHNjb3BlLmNpcmN1aXRzW29iai5pZF0gPSBvYmpcbiAgICAgICAgY29uc29sZS5sb2cgXCJpbml0IGNpcmN1aXRzXCJcbiAgICAgIyAub24gJ2RhdGEnLCAoYXJncy4uLikgLT5cbiAgICAgIyAgICBjb25zb2xlLmxvZyAxMTEsIGFyZ3NcbiAgICAgJHNjb3BlLnJlZHJhdygpXG4gICAgXG4gICAgICAgICMxLiBUT0RPOiBjaGVjayBmb3IgdmFsdWUsIGVsc2UgcmVtb3ZlXG4gICAgICAgICMyLiBhZGQgdG8gY2lyY3VpdHNcbiAgICAgICAgIyAkc2NvcGUuY2lyY3VpdHMgcHVzaCBrLCB2XG4gICAgICAgICMzLiB0ZWxsIGVkaXRvclxuICAgICMgamVlYnVzLmF0dGFjaCAnZGVtbydcbiAgICAjICAub24gJ2RhdGEnLCAoYXJncy4uLikgLT5cbiAgICAjICAgICBjb25zb2xlLmxvZyAnZGF0YS10aW0nLCBhcmdzXG4gICAgICBcblxuICBzZXR1cCgpICBpZiAkc2NvcGUuc2VydmVyU3RhdHVzIGlzICdjb25uZWN0ZWQnXG4gICRzY29wZS4kb24gJ3dzLW9wZW4nLCBzZXR1cFxuIl19
