(function() {
  var circuitsCtrl, ng;

  ng = angular.module('myApp');

  ng.config(function($stateProvider, navbarProvider) {
    $stateProvider.state('circuits', {
      url: '/circuits',
      templateUrl: '/circuits/circuits.html',
      controller: circuitsCtrl
    });
    return navbarProvider.add('/circuits', 'Circuits', 30);
  });

  circuitsCtrl = function($scope, jeebus) {
    var drivers, setup;
    drivers = {};
    setup = function() {
      return drivers = jeebus.attach('circuit').on('sync', function() {
        return $scope.circuits = this.rows;
      });
    };
    if ($scope.serverStatus === 'connected') {
      setup();
    }
    return $scope.$on('ws-open', setup);
  };

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiY2lyY3VpdHMuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUEsTUFBQSxnQkFBQTs7QUFBQSxFQUFBLEVBQUEsR0FBSyxPQUFPLENBQUMsTUFBUixDQUFlLE9BQWYsQ0FBTCxDQUFBOztBQUFBLEVBRUEsRUFBRSxDQUFDLE1BQUgsQ0FBVSxTQUFDLGNBQUQsRUFBaUIsY0FBakIsR0FBQTtBQUNSLElBQUEsY0FBYyxDQUFDLEtBQWYsQ0FBcUIsVUFBckIsRUFDRTtBQUFBLE1BQUEsR0FBQSxFQUFLLFdBQUw7QUFBQSxNQUNBLFdBQUEsRUFBYSx5QkFEYjtBQUFBLE1BRUEsVUFBQSxFQUFZLFlBRlo7S0FERixDQUFBLENBQUE7V0FJQSxjQUFjLENBQUMsR0FBZixDQUFtQixXQUFuQixFQUFnQyxVQUFoQyxFQUE0QyxFQUE1QyxFQUxRO0VBQUEsQ0FBVixDQUZBLENBQUE7O0FBQUEsRUFTQSxZQUFBLEdBQWUsU0FBQyxNQUFELEVBQVMsTUFBVCxHQUFBO0FBQ2IsUUFBQSxjQUFBO0FBQUEsSUFBQSxPQUFBLEdBQVUsRUFBVixDQUFBO0FBQUEsSUFFQSxLQUFBLEdBQVEsU0FBQSxHQUFBO2FBQ04sT0FBQSxHQUFVLE1BQU0sQ0FBQyxNQUFQLENBQWMsU0FBZCxDQUNSLENBQUMsRUFETyxDQUNKLE1BREksRUFDSSxTQUFBLEdBQUE7ZUFDVixNQUFNLENBQUMsUUFBUCxHQUFrQixJQUFDLENBQUEsS0FEVDtNQUFBLENBREosRUFESjtJQUFBLENBRlIsQ0FBQTtBQU9BLElBQUEsSUFBWSxNQUFNLENBQUMsWUFBUCxLQUF1QixXQUFuQztBQUFBLE1BQUEsS0FBQSxDQUFBLENBQUEsQ0FBQTtLQVBBO1dBUUEsTUFBTSxDQUFDLEdBQVAsQ0FBVyxTQUFYLEVBQXNCLEtBQXRCLEVBVGE7RUFBQSxDQVRmLENBQUE7QUFBQSIsInNvdXJjZXNDb250ZW50IjpbIm5nID0gYW5ndWxhci5tb2R1bGUgJ215QXBwJ1xuXG5uZy5jb25maWcgKCRzdGF0ZVByb3ZpZGVyLCBuYXZiYXJQcm92aWRlcikgLT5cbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUgJ2NpcmN1aXRzJyxcbiAgICB1cmw6ICcvY2lyY3VpdHMnXG4gICAgdGVtcGxhdGVVcmw6ICcvY2lyY3VpdHMvY2lyY3VpdHMuaHRtbCdcbiAgICBjb250cm9sbGVyOiBjaXJjdWl0c0N0cmxcbiAgbmF2YmFyUHJvdmlkZXIuYWRkICcvY2lyY3VpdHMnLCAnQ2lyY3VpdHMnLCAzMFxuXG5jaXJjdWl0c0N0cmwgPSAoJHNjb3BlLCBqZWVidXMpIC0+XG4gIGRyaXZlcnMgPSB7fVxuICBcbiAgc2V0dXAgPSAtPlxuICAgIGRyaXZlcnMgPSBqZWVidXMuYXR0YWNoICdjaXJjdWl0J1xuICAgICAgLm9uICdzeW5jJywgLT5cbiAgICAgICAgJHNjb3BlLmNpcmN1aXRzID0gQHJvd3NcbiAgICAgIFxuICBzZXR1cCgpICBpZiAkc2NvcGUuc2VydmVyU3RhdHVzIGlzICdjb25uZWN0ZWQnXG4gICRzY29wZS4kb24gJ3dzLW9wZW4nLCBzZXR1cFxuIl19
